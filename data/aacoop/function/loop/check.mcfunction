$execute if entity @a[advancements={$(id)=true}] unless data storage aacoop: {done:[{id:"$(id)"}]} run function aacoop:loop/append with storage aacoop:
$execute if data storage aacoop: {done:[{id:"$(id)"}]} run advancement grant @a[advancements={$(id)=false}] only $(id)